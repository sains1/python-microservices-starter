services:
  builder:
    image: ${COMPOSE_PROJECT_NAME}-builder
    build:
      context: .
      dockerfile: Dockerfile
  api:
    build:
      context: .
      dockerfile: ./projects/api-project/Dockerfile
      args:
        - BUILDER_IMAGE=${COMPOSE_PROJECT_NAME}-builder
    depends_on:
      - builder
    ports:
      - 8000:8000
